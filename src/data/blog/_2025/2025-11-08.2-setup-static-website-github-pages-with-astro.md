---
pubDatetime: 2025-11-08T15:22:00+11:00
title: Setting up a static site with Github Pages + Astro
slug: setup-static-website-github-pages-with-astro
featured: true
draft: false
tags:
  - static-site-generation
  - github-pages
  - cloudflare
  - astro
  - astropaper
description: Static Website with Github + Astro
---

![Octocat holding Astro!](@/assets/images/octocat-astro.png)

<p class="mb-4 text-xs text-gray-500 italic text-right">
  Image credit: ChatGPT 5.1 AI Slop
</p>

## How did I set this site up?

There's plenty of references and tutorials about setting up Github Pages to host a static site.
Instead of just regurgeting all those posts, this is a step by step summary of steps.

### Create a Github repo

1. The repo name has to be `<your username>.github.io`
1. I just had a blank repo with no-nothing.
1. Make auto building via Github Actions:

- `Settings -> Pages -> Build and deployment -> Source -> Github Actions`

![Github Pages Settings](@/assets/images/github-pages-settings.png)

ğŸ“ NOTE: Github Pages was setup _originally_ to use Jekyll as the "engine" for your static site generation.
This means Github would try and add some automation (under Github Actions) to build and publish your site.
This is pretty damn kewl ... for those still using Jekyll like it's 2016. We're using Astro
so we have to do things a bit differently. (more on this below)

### Create the default Astro site.

1. `git clone https://github.com/<your username>/<your username>.github.io.git`
1. `cd <your username>.github.io`
1. Download and unzip the AstroPaper repo.

ğŸ“ NOTE: Some people might want to FORK this repo, but I don't want to make any PR's to them or worry about pulling down latest versions.

1. Setup AstroPaper.

- Node is not installed on my computer _and hopefully_ never will be.
- Use Docker to run and intall everything.
  - Using Docker Volumes mounted to the local directory means we can have our source
    code on the host machine, but run everything inside Docker containers.
- Update the existing `docker-compose.yml` file to customise Astro for localhost _docker_ development.

```yml
services:
  astro:
    image: node:20
    working_dir: /app
    command: sh -c "npm install && npm run dev -- --host 0.0.0.0"
    ports:
      - "4321:4321"
    volumes:
      - .:/app
      - node_modules:/app/node_modules
    environment:
      - NODE_ENV=development
      - WATCHPACK_POLLING=true
      - CHOKIDAR_USEPOLLING=true
    stdin_open: true
    tty: true

volumes:
  node_modules:
```

1. `docker compose up`

![Docker Compose for Astro](@/assets/images/docker-compose-astro.png)

1. Check site: [your new AstroPage site](http://localhost:4321)

### Customise your Astro site

1. Edit `/src/config.ts` to update site title, description, author, etc.
1. Edit `/src/pages/index.astro` to update homepage content.
1. Edit `src/about.md` to update about page.
1. Edit `src/404.astro` to update 404 page.
1. Remove uneeded pages from `/src/data/`
1. Add your own blog posts to `/src/pages/blog/`

ğŸ“ NOTE: you can create folders which are not part of any default URL slug by prending an underscore `_` to it. e.g. `/src/data/_2025`

### Deploy your Astro site

1. Update the `.github/workflows/ci.yml` file to build and deploy your site to Github Pages.

```yml
name: Deploy to GitHub Pages

on:
  push:
  # Also allow manual workflow dispatch
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    name: Code standards & build
    runs-on: ubuntu-latest
    timeout-minutes: 3

    steps:
      - name: "â˜ï¸ Checkout repository"
        uses: actions/checkout@v4

      - name: "ğŸ“¦ Install pnpm"
        uses: pnpm/action-setup@v4
        with:
          version: 10.11.1

      - name: Use Node.js 20
        uses: actions/setup-node@v4
        with:
          node-version: "20"
          cache: "pnpm"

      - name: "ğŸ“¦ Install dependencies"
        run: pnpm install

      - name: "ğŸ” Lint code"
        run: pnpm run lint

      - name: "ğŸ“ Checking code format"
        run: pnpm run format:check

      - name: "ğŸš€ Build the project"
        run: pnpm run build

      - name: ğŸ’¾ Upload artifact
        if: github.ref == 'refs/heads/main'
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./dist

  deploy:
    needs: build
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

1. Clean your code

```bash
docker compose exec astro npx prettier --write .
```

1. Commit all your code
1. `git push origin main`
1. Watch Github Actions build and deploy your site.
1. Visit your site at `https://<your username>.github.io`

### Custom Domain (optional)

I'm a fan of using Cloudflare as both:

- DNS provider (free)
- CDN provider (free)

1. In your Github Repo, go to Settings -> Pages -> Custom Domain
1. Enter your custom domain name (e.g. www.example.com)
1. Add domain to Cloudflare. (e.g. example.com)
1. Update your DNS settings to point your domain to Github Pages. [Here's the official docs](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain) with their most recent instructions and IP Addresses.
   - Add a CNAME record pointing to `<your username>.github.io`
   - Also add A records pointing to Github's IP addresses (I don't know why we also need this):
     - `@ / 185.199.108.153`
     - `@ / 185.199.109.153`
     - `@ / 185.199.110.153`
     - `@ / 185.199.111.153`

![Cloudflare with Github Pages A record example](@/assets/images/cloudflare-github-pages-a-record.png)

1. Make sure Cloudflare SSL/TLS settings are set to "Full". (Sometimes is defaults to Full (strict))
1. Add the custom domain to GitHub Pages settings: `Settings -> Pages -> Custom Domain -> Save`

### Conclusion

Github Pages + Astro + Cloudflare is a great way to host a static website for free. Once the initial setup has been done, updating and maintaining the site is easy and straightforward.
